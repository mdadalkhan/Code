ডেটাবেজ রিলেশনশীপের ধারণা:
ডাটাবেসে Primary Key, Foreign Key, এবং Indexing—এই তিনটি বিষয় হলো একটি শক্তিশালী টেবিল তৈরির মূল ভিত্তি। 

১. প্রাইমারি কি (Primary Key)
এটি হলো একটি টেবিলের প্রতিটি সারির (Row) জন্য একটি ইউনিক আইডেন্টিটি বা পরিচয়পত্র।
বৈশিষ্ট্য: এটি কখনো খালি (NULL) হতে পারবে না এবং একই আইডেন্টিটি দুবার থাকতে পারবে না।
উদাহরণ: আপনার exams টেবিলে id হলো প্রাইমারি কি। ১ নম্বর আইডি মানে একটি নির্দিষ্ট পরীক্ষা, যা আর কারো নেই।

২. ফরেন কি (Foreign Key)
এটি হলো একটি টেবিলের কলাম যা অন্য একটি টেবিলের প্রাইমারি কি-কে রেফারেন্স বা নির্দেশ করে। এটি দুটি টেবিলের মধ্যে সম্পর্ক তৈরি করে।
কাজ: এটি নিশ্চিত করে যে চাইল্ড টেবিলে (যেমন: results) এমন কোনো ডাটা ঢুকবে না যা প্যারেন্ট টেবিলে (যেমন: exams) নেই।
আপনার কোডে: exam_id হলো ফরেন কি, যা exams টেবিলের id-র সাথে যুক্ত।

৩. ইনডেক্সিং (Indexing)
ইনডেক্সিং হলো ডাটাবেসের একটি "বইয়ের সূচিপত্র" (Table of Contents) এর মতো।
কেন প্রয়োজন? একটি টেবিলে যদি লাখ লাখ ডাটা থাকে, তবে ইনডেক্স ছাড়া কোনো নির্দিষ্ট ডাটা খুঁজে বের করতে ডাটাবেসকে শুরু থেকে শেষ পর্যন্ত সব চেক করতে হয় (একে বলে Full Table Scan)। ইনডেক্স করা থাকলে ডাটাবেস সরাসরি ওই ডাটাতে চলে যেতে পারে।

প্রাইমারি কি এবং ফরেন কি: ডাটাবেস অটোমেটিক্যালি সব Primary Key-কে ইনডেক্স করে দেয়। লারাভেলে যখন আপনি foreignId() ব্যবহার করেন, তখন সেটির ওপরও ইনডেক্স তৈরি হয় যাতে দ্রুত ডাটা রিলেশন খোঁজা যায়।

এই তিনটির মধ্যে পার্থক্য একনজরে: বৈশিষ্ট্য 
Primary Key Foreign KeyIndex
উদ্দেশ্য প্রতিটি সারিকে আলাদাভাবে চেনা।দুটি টেবিলের মধ্যে লিঙ্ক তৈরি করা। ডাটা খোঁজার গতি বাড়ানো। ইউনিক কি না? অবশ্যই ইউনিক হতে হবে।ইউনিক হওয়ার প্রয়োজন নেই (একই পরীক্ষার অনেক রেজাল্ট থাকতে পারে)।ইউনিক হতেও পারে, নাও হতে পারে।নাল (Null) ভ্যালুরাখা যাবে না।রাখা যেতে পারে (যদি রিলেশন বাধ্যতামূলক না হয়)।রাখা যেতে পারে।

কল্পনা করুন একটি লাইব্রেরি:

Primary Key: প্রতিটি বইয়ের গায়ের বারকোড। কোনো দুটি বইয়ের বারকোড এক হবে না।
Foreign Key: লাইব্রেরির সদস্য কার্ড নম্বর। যখন আপনি একটি বই ধার নেবেন, রেজিস্টার খাতায় বইয়ের বারকোডের পাশে আপনার কার্ড নম্বর লেখা হবে। এখানে কার্ড নম্বরটি ফরেন কি (যা মেম্বার টেবিলের সাথে যুক্ত)।
Indexing: লাইব্রেরির ক্যাটালগ কার্ড (লেখক বা বিষয়ের নাম অনুযায়ী সাজানো)। আপনি পুরো লাইব্রেরি না খুঁজে ওই কার্ড দেখে সরাসরি নির্দিষ্ট তাকে চলে যেতে পারবেন।


১. ইনডেক্সিং ছাড়া কী ঘটে? (বিশাল লাইব্রেরির মতো)
২. ইনডেক্সিং থাকলে কী ঘটে? (বইয়ের ইনডেক্সের মতো)
যখন আপনি কোনো কলামকে Index করেন, ডাটাবেস আলাদা একটি ছোট ফাইল তৈরি করে যেখানে ওই কলামের ভ্যালুগুলো (যেমন: Roll Number) ছোট থেকে বড় ক্রমে সাজিয়ে রাখে।
এখন যখন আপনি রোল নম্বর খুঁজবেন, ডাটাবেস শুরু থেকে খোঁজা শুরু না করে Binary Search পদ্ধতি ব্যবহার করে সরাসরি আপনার কাঙ্ক্ষিত ডাটার কাছে পৌঁছে যায়। এতে ১০ লাখ ডাটার মধ্যে থেকে কোনো কিছু খুঁজে পেতে ডাটাবেসকে মাত্র ১৫-২০টি ধাপ পার করলেই চলে!

৩. ইনডেক্সিং এর কিছু নিয়ম
ইনডেক্সিং খুব কাজের হলেও এটি ব্যবহারের কিছু নিয়ম আছে:
পড়তে দ্রুত, লিখতে ধীর: ইনডেক্স থাকলে ডাটা খোঁজা (Select) অনেক ফাস্ট হয়। কিন্তু যখন আপনি নতুন ডাটা ইনসার্ট (Insert) বা আপডেট (Update) করবেন, তখন ডাটাবেসকে আসল টেবিলের পাশাপাশি ইনডেক্স ফাইলটিও আপডেট করতে হয়। তাই অনেক বেশি ইনডেক্স থাকলে ডাটা সেভ হতে সামান্য দেরি হতে পারে।
বেশি ব্যবহ্রত কলামে ইনডেক্স দিন: যে কলামগুলো আপনি সচরাচর WHERE ক্লজ বা orderBy তে ব্যবহার করেন (যেমন: roll, exam_id, phone), সেগুলোতে ইনডেক্স দেওয়া ভালো।

৪. লারাভেলে কীভাবে ইনডেক্স করবেন?
আপনার মাইগ্রেশন ফাইলে খুব সহজেই ইনডেক্স যোগ করা যায়:
$table->string('roll')->index(); // এটি রোল নম্বরকে ইনডেক্স করবে
$table->string('phone')->unique(); // unique মানে এটি অটোমেটিক ইনডেক্স হবে এবং ডুপ্লিকেট ডাটা নেবে না
৫. ডাটাবেস স্পিড বাড়ানোর টিপস
১. Primary Key এবং Foreign Key সবসময় অটোমেটিক ইনডেক্সড থাকে। ২. আপনার রিপোর্টে বা সার্চে যে কলাম বেশি লাগে তাতে আলাদা করে ইনডেক্স দিন। ৩. অপ্রয়োজনীয় কলামে ইনডেক্স দেবেন না, কারণ এতে ডাটাবেসের সাইজ বেড়ে যায়।
আপনি কি আপনার এই results টেবিলের জন্য একটি ডামি ডাটা ইনসার্ট করার কোড দেখতে চান? তাহলে আপনি সরাসরি ইনডেক্স এবং ফরেন কি-র কাজ প্র্যাকটিক্যালি দেখতে পারবেন।


